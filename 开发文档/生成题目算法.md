### 生成算法主要流程

```python
输入：题目个数 n ，数值范围 m
输出：题目列表 prod_list
prod_list = []
for i in range(n):
    exper = ''  # 初始化算式
	sign_num = randint(1, 3)  # 符号个数
    fig_0 = create_rand_fig()
    exper.expand(fig_0)  # 将第一个数字加入式子中
    for j in range(sign_num):
        sign_j = create_rand_sign()  # 将符号加入式子中
        fig_j = create_rand_fig()  # 将数字加入式子中
        exper.expand(sign_j)
        exper.expend(fig_J)
    end for
    exper = add_brac(exper, sign_num)
end for
```

### 数字生成

**整数**

主要采用随机数生成

```python
# m 为数字的范围
fig = randint(m)
```

**分数**

辗转相除法

分为真分数的生成和带分数的生成：

- 对于真分数，先生成规定范围内的分子和分母，再进行约分，并舍弃多出来的整数
  - 如，随机生成分子 2 和分母 3，即为“2/3”
  - 在如，生成分子 10 和分母  4，先约分为 “5/2”即“2'1/2”，再舍弃多出来的整数为“1/2”
- 对于带分数，先生成规定范围内的分子和分母，再进行约分，并舍弃多出来的整数，最后在随机生成规定范围内的整数部分
  - 如，生成分子 10 和分母  4，先约分为 “5/2”即“2'1/2”，再舍弃多出来的整数为“1/2”，然后在随机生成了 3 ，最后结果为“3'1/2”

### 括号的插入

分析后发现，当符号数为 1 时，无法插入括号；

当符号数为 2 时，可以插入括号，一共 2 种插入方式，加上不插入一共 3 中状态
$$
x+y+z\\
(x+y)+z\\
x+(y+z)
$$
当符号数为 3 时，可以插入括号，一共 6 种插入方式，加上不插入一共 7 中状态
$$
x+y+z+u\\
(x+y)+(z+u)\\
x+(y+z)+u\\
(x+y)+z+u\\
x+y+(z+u)\\
(x+y+z)+u\\
x+(y+z+u)
$$
对于不同状态赋予不同的权重，就能按一定比例生成各种情况的括号